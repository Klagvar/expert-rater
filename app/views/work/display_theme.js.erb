// Обновляем все элементы интерфейса
$('.up-theme').text('<%= @image_data[:theme] %>');
$('.up').text('<%= @image_data[:name] %>');
$('.scalable-image').attr('src', '<%= asset_path "pictures/#{@image_data[:file]}" %>');

// Обновляем данные для API-навигации
$('.card')
  .data('theme-id', '<%= @image_data[:theme_id] %>')
  .data('current-index', '<%= @image_data[:index] %>')
  .data('total-images', '<%= @image_data[:images_arr_size] %>');

// Принудительно обновляем ширину карточки
$('.card').css('width', 'auto');

// Сброс кэша браузера для изображения (опционально)
$('.scalable-image').css('transform', 'scale(0.99)').delay(50).queue(function() {
    $(this).css('transform', 'scale(1)').dequeue();
});